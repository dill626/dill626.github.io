---
title: 一台电脑两个github账号
comments: true
tags:
  - hexo
  - github
categories:
  - 学习记录
description: 解决报错Permission to xxx denied to xxx
copyright_author: 茴香精
abbrlink: 46454
date: 2024-08-30 13:26:54
cover:
---
# 问题场景

首先，我有一个github账号A，平时用它自动上传存档我的学习笔记；其次我有一个github账号B，用于维持hexo博客网站运营。当我想用账号B`git push`备份存档时，报错提示：
```bash
Permission to xxx（远程仓库账号B） denied to xxx（电脑上的另一个账号A）
```

关于如何备份hexo，请看这篇文章{% post_link hexo备份存档 %}。

# 解决方案

## 新建ssh

```bash
ssh-keygen -t ras -C "邮箱账号"
```

然后提示：

```bash
Enter file in which to save the key (/Users/XXX/.ssh/id_rsa): 
```
由于`id_rsa`这个ssh文件名已经被账号A占用了，于是另取一个名字：输入n

连续两个回车确认

## 同步github上的ssh

>这里需要找到新生成的ssh文件`n.pub`（公钥），按理来说应该生成在`.ssh`文件夹中，但是我的文件不知道为什么生成在了`C:\Users\WINDOWS`文件夹下，把它移到`.ssh`文件夹中也没什么影响。

打开`n.pub`文件，将内容复制到账户B的ssh key中。

## 配置ssh文件中的config

原理我不懂，总之我改成了这样

```bash
#Default Github
Host github.com
User 账号A的邮箱
Hostname ssh.github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa
Port 443

#new github
Host github-账号B名称
HostName github.com
User git
PreferredAuthentications publickey
IdentityFile ~/.ssh/n
Port 443
```

## 配置远程地址

直接在github页面复制ssh的链接就行
```bash
git remote set-url origin git@github.com:账户B/仓库名.git
```

## 重新提交

提交前查看一下现在是哪个分支

```bash
git branch
# 查看当前使用分支

git chekout hexo
# 切换到hexo分支上

git add .
# 添加当前目录

git commit -m "更新"
# 添加commit，引号内的内容随意

git push origin hexo
# 将本地数据推送到hexo分支中
```

推送成功！

# 参考文章

* [解决Permission to xxx denied to xxx问题](https://blog.csdn.net/komojay/article/details/80480098)
* [利用git分支进行Hexo备份](https://blog.xiabee.cn/posts/hexo-git-backup/#/%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0)

